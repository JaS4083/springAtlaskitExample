{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { jsx as ___EmotionJSX } from \"@emotion/core\";\nimport React, { Component, Fragment } from 'react';\nimport { NavigationAnalyticsContext } from '@atlaskit/analytics-namespaced-context';\nimport { name as packageName, version as packageVersion } from '../../../version.json';\nimport ResizeTransition, { isTransitioning } from '../ResizeTransition';\nimport ResizeControl from './ResizeControl';\nimport { HorizontalNavigationContainer, LayoutContainer, NavigationContainer } from './primitives';\nimport { ContainerNavigationMask } from '../ContentNavigation/primitives';\nimport { ComposedGlobalNavigation, ComposedContainerNavigation } from './nav-components';\nimport { ALTERNATE_FLYOUT_DELAY, CONTENT_NAV_WIDTH_COLLAPSED, CONTENT_NAV_WIDTH_FLYOUT, FLYOUT_DELAY, GLOBAL_NAV_WIDTH, HORIZONTAL_GLOBAL_NAV_HEIGHT } from '../../../common/constants';\nimport RenderBlocker from '../../common/RenderBlocker';\nimport { LayoutEventListener } from './LayoutEvent';\nimport { pageContainerCSS } from './styles';\n\nfunction defaultTooltipContent(isCollapsed) {\n  return isCollapsed ? {\n    text: 'Expand',\n    char: '['\n  } : {\n    text: 'Collapse',\n    char: '['\n  };\n}\n/* NOTE: experimental props use an underscore */\n\n\nvar LayoutManager = /*#__PURE__*/function (_Component) {\n  _inherits(LayoutManager, _Component);\n\n  function LayoutManager() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LayoutManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LayoutManager)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      flyoutIsOpen: false,\n      itemIsDragging: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"productNavRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"pageRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"flyoutMouseOverTimeout\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"nodeRefs\", {\n      expandCollapseAffordance: React.createRef()\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getContainerRef\", function (ref) {\n      _this.containerRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getNavRef\", function (ref) {\n      _this.productNavRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageRef\", function (ref) {\n      _this.pageRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseOutFlyoutArea\", function (_ref) {\n      var currentTarget = _ref.currentTarget,\n          relatedTarget = _ref.relatedTarget;\n      if (currentTarget.contains(relatedTarget)) return;\n      clearTimeout(_this.flyoutMouseOverTimeout);\n\n      _this.setState({\n        flyoutIsOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseOverFlyoutArea\", function (_ref2) {\n      var currentTarget = _ref2.currentTarget,\n          target = _ref2.target;\n      if (!currentTarget.contains(target)) return;\n      var EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR = _this.props.experimental_alternateFlyoutBehaviour;\n      var delay = EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? ALTERNATE_FLYOUT_DELAY : FLYOUT_DELAY;\n      clearTimeout(_this.flyoutMouseOverTimeout);\n      _this.flyoutMouseOverTimeout = setTimeout(function () {\n        _this.setState({\n          flyoutIsOpen: true\n        });\n      }, delay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeFlyout\", function (e) {\n      e.stopPropagation();\n      clearTimeout(_this.flyoutMouseOverTimeout);\n\n      if (_this.state.flyoutIsOpen) {\n        _this.setState({\n          flyoutIsOpen: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseLeave\", function () {\n      clearTimeout(_this.flyoutMouseOverTimeout);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemDragStart\", function () {\n      _this.setState({\n        itemIsDragging: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemDragEnd\", function () {\n      _this.setState({\n        itemIsDragging: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderNavigation\", function () {\n      var _this$props = _this.props,\n          datasets = _this$props.datasets,\n          navigationUIController = _this$props.navigationUIController,\n          EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR = _this$props.experimental_alternateFlyoutBehaviour,\n          EXPERIMENTAL_FLYOUT_ON_HOVER = _this$props.experimental_flyoutOnHover,\n          EXPERIMENTAL_FULL_WIDTH_FLYOUT = _this$props.experimental_fullWidthFlyout,\n          EXPERIMENTAL_HIDE_NAV_VISUALLY_ON_COLLAPSE = _this$props.experimental_hideNavVisuallyOnCollapse,\n          EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV = _this$props.experimental_horizontalGlobalNav,\n          collapseToggleTooltipContent = _this$props.collapseToggleTooltipContent,\n          topOffset = _this$props.topOffset,\n          shouldHideGlobalNavShadow = _this$props.shouldHideGlobalNavShadow,\n          showContextualNavigation = _this$props.showContextualNavigation,\n          globalNavigation = _this$props.globalNavigation,\n          containerNavigation = _this$props.containerNavigation,\n          productNavigation = _this$props.productNavigation,\n          view = _this$props.view;\n      var _this$state = _this.state,\n          flyoutIsOpen = _this$state.flyoutIsOpen,\n          itemIsDragging = _this$state.itemIsDragging;\n      var _navigationUIControll = navigationUIController.state,\n          isCollapsed = _navigationUIControll.isCollapsed,\n          isResizeDisabled = _navigationUIControll.isResizeDisabled,\n          isResizing = _navigationUIControll.isResizing,\n          productNavWidth = _navigationUIControll.productNavWidth;\n      var flyoutWidth = EXPERIMENTAL_FULL_WIDTH_FLYOUT ? productNavWidth : CONTENT_NAV_WIDTH_FLYOUT;\n      var dataset = datasets ? datasets.navigation : {};\n      var GlobalNavigation = globalNavigation;\n      var navContainerTopOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? HORIZONTAL_GLOBAL_NAV_HEIGHT + topOffset : topOffset;\n      var onMouseOut = isCollapsed && EXPERIMENTAL_FLYOUT_ON_HOVER && flyoutIsOpen ? _this.mouseOutFlyoutArea : null;\n      var onMouseOver = isCollapsed && EXPERIMENTAL_FLYOUT_ON_HOVER && !flyoutIsOpen ? _this.mouseOverFlyoutArea : null;\n      return ___EmotionJSX(LayoutEventListener, {\n        onItemDragStart: _this.onItemDragStart,\n        onItemDragEnd: _this.onItemDragEnd\n      }, ___EmotionJSX(NavigationAnalyticsContext, {\n        data: {\n          attributes: {\n            isExpanded: !isCollapsed,\n            flyoutOnHoverEnabled: EXPERIMENTAL_FLYOUT_ON_HOVER,\n            alternateFlyoutBehaviourEnabled: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR,\n            fullWidthFlyoutEnabled: EXPERIMENTAL_FULL_WIDTH_FLYOUT,\n            horizontalGlobalNavEnabled: EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV\n          },\n          componentName: 'navigation',\n          packageName: packageName,\n          packageVersion: packageVersion\n        }\n      }, ___EmotionJSX(Fragment, null, EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV && ___EmotionJSX(HorizontalNavigationContainer, {\n        topOffset: topOffset\n      }, ___EmotionJSX(GlobalNavigation, null)), ___EmotionJSX(NavigationContainer, _extends({}, dataset, {\n        topOffset: navContainerTopOffset,\n        innerRef: _this.getContainerRef,\n        onMouseOver: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? onMouseOver : null,\n        onMouseOut: onMouseOut,\n        onMouseLeave: _this.mouseLeave\n      }), ___EmotionJSX(ContainerNavigationMask, {\n        disableInteraction: itemIsDragging,\n        onMouseOver: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? null : onMouseOver\n      }, ___EmotionJSX(RenderBlocker, {\n        blockOnChange: true,\n        itemIsDragging: itemIsDragging\n      }, !EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV && // Prevents GlobalNavigation from re-rendering on resize,\n      // and flyout expand/collapse\n      ___EmotionJSX(RenderBlocker, {\n        blockOnChange: true,\n        isResizing: isResizing,\n        isCollapsed: isCollapsed,\n        flyoutIsOpen: flyoutIsOpen\n      }, ___EmotionJSX(ComposedGlobalNavigation, {\n        containerNavigation: containerNavigation,\n        datasets: datasets,\n        globalNavigation: globalNavigation,\n        topOffset: topOffset,\n        shouldHideGlobalNavShadow: shouldHideGlobalNavShadow,\n        experimental_alternateFlyoutBehaviour: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR,\n        closeFlyout: _this.closeFlyout,\n        view: view\n      })), ___EmotionJSX(ResizeTransition, {\n        from: [showContextualNavigation ? CONTENT_NAV_WIDTH_COLLAPSED : 0],\n        in: showContextualNavigation ? !isCollapsed || flyoutIsOpen : false,\n        properties: ['width'],\n        to: [flyoutIsOpen ? flyoutWidth : productNavWidth],\n        userIsDragging: isResizing // only apply listeners to the NAV resize transition\n        ,\n        productNavWidth: productNavWidth\n      }, function (_ref3) {\n        var transitionStyle = _ref3.transitionStyle,\n            transitionState = _ref3.transitionState;\n        return ___EmotionJSX(ComposedContainerNavigation, {\n          containerNavigation: containerNavigation,\n          datasets: datasets,\n          experimental_flyoutOnHover: EXPERIMENTAL_FLYOUT_ON_HOVER,\n          experimental_hideNavVisuallyOnCollapse: !!EXPERIMENTAL_HIDE_NAV_VISUALLY_ON_COLLAPSE,\n          expand: navigationUIController.expand,\n          productNavigation: productNavigation,\n          transitionState: transitionState,\n          transitionStyle: transitionStyle,\n          isCollapsed: isCollapsed,\n          isResizing: isResizing,\n          getNavRef: _this.getNavRef,\n          view: view\n        });\n      }))), showContextualNavigation && ___EmotionJSX(ResizeControl, {\n        collapseToggleTooltipContent: collapseToggleTooltipContent,\n        expandCollapseAffordanceRef: _this.nodeRefs.expandCollapseAffordance // eslint-disable-next-line camelcase\n        ,\n        experimental_flyoutOnHover: EXPERIMENTAL_FLYOUT_ON_HOVER,\n        isDisabled: isResizeDisabled,\n        flyoutIsOpen: flyoutIsOpen,\n        isGrabAreaDisabled: itemIsDragging,\n        onMouseOverButtonBuffer: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? _this.closeFlyout : null,\n        mutationRefs: [{\n          ref: _this.pageRef,\n          property: 'padding-left'\n        }, {\n          ref: _this.productNavRef,\n          property: 'width'\n        }],\n        navigation: navigationUIController\n      })))));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPageContent\", function () {\n      var _this$props2 = _this.props,\n          datasets = _this$props2.datasets,\n          EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV = _this$props2.experimental_horizontalGlobalNav,\n          navigationUIController = _this$props2.navigationUIController,\n          onExpandStart = _this$props2.onExpandStart,\n          onExpandEnd = _this$props2.onExpandEnd,\n          onCollapseStart = _this$props2.onCollapseStart,\n          onCollapseEnd = _this$props2.onCollapseEnd,\n          children = _this$props2.children,\n          showContextualNavigation = _this$props2.showContextualNavigation;\n      var flyoutIsOpen = _this.state.flyoutIsOpen;\n      var _navigationUIControll2 = navigationUIController.state,\n          isResizing = _navigationUIControll2.isResizing,\n          isCollapsed = _navigationUIControll2.isCollapsed,\n          productNavWidth = _navigationUIControll2.productNavWidth;\n      var leftOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? 0 : GLOBAL_NAV_WIDTH; // This offset should just be the global nav height, as the topOffset prop has already been applied\n      // to layout manager content via a margin\n\n      var topOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? HORIZONTAL_GLOBAL_NAV_HEIGHT : 0;\n      var collapsedSize = 0;\n      var expandedSize = flyoutIsOpen ? CONTENT_NAV_WIDTH_FLYOUT : productNavWidth;\n      var dataset = datasets ? datasets.content : {};\n      return ___EmotionJSX(ResizeTransition, {\n        from: [CONTENT_NAV_WIDTH_COLLAPSED],\n        in: !isCollapsed,\n        productNavWidth: productNavWidth,\n        properties: ['paddingLeft'],\n        to: [showContextualNavigation ? expandedSize : collapsedSize],\n        userIsDragging: isResizing\n        /* Attach expand/collapse callbacks to the page resize transition to ensure they are only\n         * called when the nav is permanently expanded/collapsed, i.e. when page content position changes. */\n        ,\n        onExpandStart: onExpandStart,\n        onExpandEnd: onExpandEnd,\n        onCollapseStart: onCollapseStart,\n        onCollapseEnd: onCollapseEnd\n      }, function (_ref4) {\n        var transitionStyle = _ref4.transitionStyle,\n            transitionState = _ref4.transitionState;\n        return ___EmotionJSX(\"div\", _extends({\n          css: pageContainerCSS({\n            disableInteraction: isResizing || isTransitioning(transitionState),\n            leftOffset: leftOffset,\n            topOffset: topOffset\n          }),\n          ref: _this.getPageRef,\n          style: transitionStyle\n        }, dataset), children);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LayoutManager, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.publishRefs();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.publishRefs();\n    }\n  }, {\n    key: \"publishRefs\",\n    value: function publishRefs() {\n      var getRefs = this.props.getRefs;\n\n      if (typeof getRefs === 'function') {\n        getRefs(this.nodeRefs);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var topOffset = this.props.topOffset;\n      return ___EmotionJSX(LayoutContainer, {\n        topOffset: topOffset\n      }, this.renderNavigation(), this.renderPageContent());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      // kill the flyout when the user commits to expanding navigation\n      if (!props.navigationUIController.state.isCollapsed && state.flyoutIsOpen) {\n        return {\n          flyoutIsOpen: false\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return LayoutManager;\n}(Component);\n\n_defineProperty(LayoutManager, \"defaultProps\", {\n  collapseToggleTooltipContent: defaultTooltipContent,\n  datasets: {\n    content: {\n      'data-testid': 'Content'\n    },\n    contextualNavigation: {\n      'data-testid': 'ContextualNavigation'\n    },\n    globalNavigation: {\n      'data-testid': 'GlobalNavigation'\n    },\n    navigation: {\n      'data-testid': 'Navigation'\n    }\n  },\n  topOffset: 0,\n  shouldHideGlobalNavShadow: false,\n  // eslint-disable-next-line camelcase\n  experimental_alternateFlyoutBehaviour: false,\n  experimental_flyoutOnHover: false,\n  experimental_fullWidthFlyout: false,\n  experimental_hideNavVisuallyOnCollapse: false,\n  experimental_horizontalGlobalNav: false,\n  showContextualNavigation: true\n});\n\nexport { LayoutManager as default };","map":{"version":3,"sources":["/home/asirob/Code/atlasmicros/src/main/resources/static/react-atlaskit-example/node_modules/@atlaskit/navigation-next/dist/esm/components/presentational/LayoutManager/LayoutManager.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_defineProperty","jsx","___EmotionJSX","React","Component","Fragment","NavigationAnalyticsContext","name","packageName","version","packageVersion","ResizeTransition","isTransitioning","ResizeControl","HorizontalNavigationContainer","LayoutContainer","NavigationContainer","ContainerNavigationMask","ComposedGlobalNavigation","ComposedContainerNavigation","ALTERNATE_FLYOUT_DELAY","CONTENT_NAV_WIDTH_COLLAPSED","CONTENT_NAV_WIDTH_FLYOUT","FLYOUT_DELAY","GLOBAL_NAV_WIDTH","HORIZONTAL_GLOBAL_NAV_HEIGHT","RenderBlocker","LayoutEventListener","pageContainerCSS","defaultTooltipContent","isCollapsed","text","char","LayoutManager","_Component","_getPrototypeOf2","_this","_len","arguments","length","args","Array","_key","call","apply","concat","flyoutIsOpen","itemIsDragging","expandCollapseAffordance","createRef","ref","containerRef","productNavRef","pageRef","_ref","currentTarget","relatedTarget","contains","clearTimeout","flyoutMouseOverTimeout","setState","_ref2","target","EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR","props","experimental_alternateFlyoutBehaviour","delay","setTimeout","e","stopPropagation","state","_this$props","datasets","navigationUIController","EXPERIMENTAL_FLYOUT_ON_HOVER","experimental_flyoutOnHover","EXPERIMENTAL_FULL_WIDTH_FLYOUT","experimental_fullWidthFlyout","EXPERIMENTAL_HIDE_NAV_VISUALLY_ON_COLLAPSE","experimental_hideNavVisuallyOnCollapse","EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV","experimental_horizontalGlobalNav","collapseToggleTooltipContent","topOffset","shouldHideGlobalNavShadow","showContextualNavigation","globalNavigation","containerNavigation","productNavigation","view","_this$state","_navigationUIControll","isResizeDisabled","isResizing","productNavWidth","flyoutWidth","dataset","navigation","GlobalNavigation","navContainerTopOffset","onMouseOut","mouseOutFlyoutArea","onMouseOver","mouseOverFlyoutArea","onItemDragStart","onItemDragEnd","data","attributes","isExpanded","flyoutOnHoverEnabled","alternateFlyoutBehaviourEnabled","fullWidthFlyoutEnabled","horizontalGlobalNavEnabled","componentName","innerRef","getContainerRef","onMouseLeave","mouseLeave","disableInteraction","blockOnChange","closeFlyout","from","in","properties","to","userIsDragging","_ref3","transitionStyle","transitionState","expand","getNavRef","expandCollapseAffordanceRef","nodeRefs","isDisabled","isGrabAreaDisabled","onMouseOverButtonBuffer","mutationRefs","property","_this$props2","onExpandStart","onExpandEnd","onCollapseStart","onCollapseEnd","children","_navigationUIControll2","leftOffset","collapsedSize","expandedSize","content","_ref4","css","getPageRef","style","key","value","componentDidMount","publishRefs","componentDidUpdate","getRefs","render","renderNavigation","renderPageContent","getDerivedStateFromProps","contextualNavigation","default"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { jsx as ___EmotionJSX } from \"@emotion/core\";\nimport React, { Component, Fragment } from 'react';\nimport { NavigationAnalyticsContext } from '@atlaskit/analytics-namespaced-context';\nimport { name as packageName, version as packageVersion } from '../../../version.json';\nimport ResizeTransition, { isTransitioning } from '../ResizeTransition';\nimport ResizeControl from './ResizeControl';\nimport { HorizontalNavigationContainer, LayoutContainer, NavigationContainer } from './primitives';\nimport { ContainerNavigationMask } from '../ContentNavigation/primitives';\nimport { ComposedGlobalNavigation, ComposedContainerNavigation } from './nav-components';\nimport { ALTERNATE_FLYOUT_DELAY, CONTENT_NAV_WIDTH_COLLAPSED, CONTENT_NAV_WIDTH_FLYOUT, FLYOUT_DELAY, GLOBAL_NAV_WIDTH, HORIZONTAL_GLOBAL_NAV_HEIGHT } from '../../../common/constants';\nimport RenderBlocker from '../../common/RenderBlocker';\nimport { LayoutEventListener } from './LayoutEvent';\nimport { pageContainerCSS } from './styles';\n\nfunction defaultTooltipContent(isCollapsed) {\n  return isCollapsed ? {\n    text: 'Expand',\n    char: '['\n  } : {\n    text: 'Collapse',\n    char: '['\n  };\n}\n/* NOTE: experimental props use an underscore */\n\n\nvar LayoutManager =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LayoutManager, _Component);\n\n  function LayoutManager() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LayoutManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LayoutManager)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      flyoutIsOpen: false,\n      itemIsDragging: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"productNavRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"pageRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"flyoutMouseOverTimeout\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"nodeRefs\", {\n      expandCollapseAffordance: React.createRef()\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getContainerRef\", function (ref) {\n      _this.containerRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getNavRef\", function (ref) {\n      _this.productNavRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPageRef\", function (ref) {\n      _this.pageRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseOutFlyoutArea\", function (_ref) {\n      var currentTarget = _ref.currentTarget,\n          relatedTarget = _ref.relatedTarget;\n      if (currentTarget.contains(relatedTarget)) return;\n      clearTimeout(_this.flyoutMouseOverTimeout);\n\n      _this.setState({\n        flyoutIsOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseOverFlyoutArea\", function (_ref2) {\n      var currentTarget = _ref2.currentTarget,\n          target = _ref2.target;\n      if (!currentTarget.contains(target)) return;\n      var EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR = _this.props.experimental_alternateFlyoutBehaviour;\n      var delay = EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? ALTERNATE_FLYOUT_DELAY : FLYOUT_DELAY;\n      clearTimeout(_this.flyoutMouseOverTimeout);\n      _this.flyoutMouseOverTimeout = setTimeout(function () {\n        _this.setState({\n          flyoutIsOpen: true\n        });\n      }, delay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeFlyout\", function (e) {\n      e.stopPropagation();\n      clearTimeout(_this.flyoutMouseOverTimeout);\n\n      if (_this.state.flyoutIsOpen) {\n        _this.setState({\n          flyoutIsOpen: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseLeave\", function () {\n      clearTimeout(_this.flyoutMouseOverTimeout);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemDragStart\", function () {\n      _this.setState({\n        itemIsDragging: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onItemDragEnd\", function () {\n      _this.setState({\n        itemIsDragging: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderNavigation\", function () {\n      var _this$props = _this.props,\n          datasets = _this$props.datasets,\n          navigationUIController = _this$props.navigationUIController,\n          EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR = _this$props.experimental_alternateFlyoutBehaviour,\n          EXPERIMENTAL_FLYOUT_ON_HOVER = _this$props.experimental_flyoutOnHover,\n          EXPERIMENTAL_FULL_WIDTH_FLYOUT = _this$props.experimental_fullWidthFlyout,\n          EXPERIMENTAL_HIDE_NAV_VISUALLY_ON_COLLAPSE = _this$props.experimental_hideNavVisuallyOnCollapse,\n          EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV = _this$props.experimental_horizontalGlobalNav,\n          collapseToggleTooltipContent = _this$props.collapseToggleTooltipContent,\n          topOffset = _this$props.topOffset,\n          shouldHideGlobalNavShadow = _this$props.shouldHideGlobalNavShadow,\n          showContextualNavigation = _this$props.showContextualNavigation,\n          globalNavigation = _this$props.globalNavigation,\n          containerNavigation = _this$props.containerNavigation,\n          productNavigation = _this$props.productNavigation,\n          view = _this$props.view;\n      var _this$state = _this.state,\n          flyoutIsOpen = _this$state.flyoutIsOpen,\n          itemIsDragging = _this$state.itemIsDragging;\n      var _navigationUIControll = navigationUIController.state,\n          isCollapsed = _navigationUIControll.isCollapsed,\n          isResizeDisabled = _navigationUIControll.isResizeDisabled,\n          isResizing = _navigationUIControll.isResizing,\n          productNavWidth = _navigationUIControll.productNavWidth;\n      var flyoutWidth = EXPERIMENTAL_FULL_WIDTH_FLYOUT ? productNavWidth : CONTENT_NAV_WIDTH_FLYOUT;\n      var dataset = datasets ? datasets.navigation : {};\n      var GlobalNavigation = globalNavigation;\n      var navContainerTopOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? HORIZONTAL_GLOBAL_NAV_HEIGHT + topOffset : topOffset;\n      var onMouseOut = isCollapsed && EXPERIMENTAL_FLYOUT_ON_HOVER && flyoutIsOpen ? _this.mouseOutFlyoutArea : null;\n      var onMouseOver = isCollapsed && EXPERIMENTAL_FLYOUT_ON_HOVER && !flyoutIsOpen ? _this.mouseOverFlyoutArea : null;\n      return ___EmotionJSX(LayoutEventListener, {\n        onItemDragStart: _this.onItemDragStart,\n        onItemDragEnd: _this.onItemDragEnd\n      }, ___EmotionJSX(NavigationAnalyticsContext, {\n        data: {\n          attributes: {\n            isExpanded: !isCollapsed,\n            flyoutOnHoverEnabled: EXPERIMENTAL_FLYOUT_ON_HOVER,\n            alternateFlyoutBehaviourEnabled: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR,\n            fullWidthFlyoutEnabled: EXPERIMENTAL_FULL_WIDTH_FLYOUT,\n            horizontalGlobalNavEnabled: EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV\n          },\n          componentName: 'navigation',\n          packageName: packageName,\n          packageVersion: packageVersion\n        }\n      }, ___EmotionJSX(Fragment, null, EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV && ___EmotionJSX(HorizontalNavigationContainer, {\n        topOffset: topOffset\n      }, ___EmotionJSX(GlobalNavigation, null)), ___EmotionJSX(NavigationContainer, _extends({}, dataset, {\n        topOffset: navContainerTopOffset,\n        innerRef: _this.getContainerRef,\n        onMouseOver: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? onMouseOver : null,\n        onMouseOut: onMouseOut,\n        onMouseLeave: _this.mouseLeave\n      }), ___EmotionJSX(ContainerNavigationMask, {\n        disableInteraction: itemIsDragging,\n        onMouseOver: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? null : onMouseOver\n      }, ___EmotionJSX(RenderBlocker, {\n        blockOnChange: true,\n        itemIsDragging: itemIsDragging\n      }, !EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV && // Prevents GlobalNavigation from re-rendering on resize,\n      // and flyout expand/collapse\n      ___EmotionJSX(RenderBlocker, {\n        blockOnChange: true,\n        isResizing: isResizing,\n        isCollapsed: isCollapsed,\n        flyoutIsOpen: flyoutIsOpen\n      }, ___EmotionJSX(ComposedGlobalNavigation, {\n        containerNavigation: containerNavigation,\n        datasets: datasets,\n        globalNavigation: globalNavigation,\n        topOffset: topOffset,\n        shouldHideGlobalNavShadow: shouldHideGlobalNavShadow,\n        experimental_alternateFlyoutBehaviour: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR,\n        closeFlyout: _this.closeFlyout,\n        view: view\n      })), ___EmotionJSX(ResizeTransition, {\n        from: [showContextualNavigation ? CONTENT_NAV_WIDTH_COLLAPSED : 0],\n        in: showContextualNavigation ? !isCollapsed || flyoutIsOpen : false,\n        properties: ['width'],\n        to: [flyoutIsOpen ? flyoutWidth : productNavWidth],\n        userIsDragging: isResizing // only apply listeners to the NAV resize transition\n        ,\n        productNavWidth: productNavWidth\n      }, function (_ref3) {\n        var transitionStyle = _ref3.transitionStyle,\n            transitionState = _ref3.transitionState;\n        return ___EmotionJSX(ComposedContainerNavigation, {\n          containerNavigation: containerNavigation,\n          datasets: datasets,\n          experimental_flyoutOnHover: EXPERIMENTAL_FLYOUT_ON_HOVER,\n          experimental_hideNavVisuallyOnCollapse: !!EXPERIMENTAL_HIDE_NAV_VISUALLY_ON_COLLAPSE,\n          expand: navigationUIController.expand,\n          productNavigation: productNavigation,\n          transitionState: transitionState,\n          transitionStyle: transitionStyle,\n          isCollapsed: isCollapsed,\n          isResizing: isResizing,\n          getNavRef: _this.getNavRef,\n          view: view\n        });\n      }))), showContextualNavigation && ___EmotionJSX(ResizeControl, {\n        collapseToggleTooltipContent: collapseToggleTooltipContent,\n        expandCollapseAffordanceRef: _this.nodeRefs.expandCollapseAffordance // eslint-disable-next-line camelcase\n        ,\n        experimental_flyoutOnHover: EXPERIMENTAL_FLYOUT_ON_HOVER,\n        isDisabled: isResizeDisabled,\n        flyoutIsOpen: flyoutIsOpen,\n        isGrabAreaDisabled: itemIsDragging,\n        onMouseOverButtonBuffer: EXPERIMENTAL_ALTERNATE_FLYOUT_BEHAVIOUR ? _this.closeFlyout : null,\n        mutationRefs: [{\n          ref: _this.pageRef,\n          property: 'padding-left'\n        }, {\n          ref: _this.productNavRef,\n          property: 'width'\n        }],\n        navigation: navigationUIController\n      })))));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPageContent\", function () {\n      var _this$props2 = _this.props,\n          datasets = _this$props2.datasets,\n          EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV = _this$props2.experimental_horizontalGlobalNav,\n          navigationUIController = _this$props2.navigationUIController,\n          onExpandStart = _this$props2.onExpandStart,\n          onExpandEnd = _this$props2.onExpandEnd,\n          onCollapseStart = _this$props2.onCollapseStart,\n          onCollapseEnd = _this$props2.onCollapseEnd,\n          children = _this$props2.children,\n          showContextualNavigation = _this$props2.showContextualNavigation;\n      var flyoutIsOpen = _this.state.flyoutIsOpen;\n      var _navigationUIControll2 = navigationUIController.state,\n          isResizing = _navigationUIControll2.isResizing,\n          isCollapsed = _navigationUIControll2.isCollapsed,\n          productNavWidth = _navigationUIControll2.productNavWidth;\n      var leftOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? 0 : GLOBAL_NAV_WIDTH; // This offset should just be the global nav height, as the topOffset prop has already been applied\n      // to layout manager content via a margin\n\n      var topOffset = EXPERIMENTAL_HORIZONTAL_GLOBAL_NAV ? HORIZONTAL_GLOBAL_NAV_HEIGHT : 0;\n      var collapsedSize = 0;\n      var expandedSize = flyoutIsOpen ? CONTENT_NAV_WIDTH_FLYOUT : productNavWidth;\n      var dataset = datasets ? datasets.content : {};\n      return ___EmotionJSX(ResizeTransition, {\n        from: [CONTENT_NAV_WIDTH_COLLAPSED],\n        in: !isCollapsed,\n        productNavWidth: productNavWidth,\n        properties: ['paddingLeft'],\n        to: [showContextualNavigation ? expandedSize : collapsedSize],\n        userIsDragging: isResizing\n        /* Attach expand/collapse callbacks to the page resize transition to ensure they are only\n         * called when the nav is permanently expanded/collapsed, i.e. when page content position changes. */\n        ,\n        onExpandStart: onExpandStart,\n        onExpandEnd: onExpandEnd,\n        onCollapseStart: onCollapseStart,\n        onCollapseEnd: onCollapseEnd\n      }, function (_ref4) {\n        var transitionStyle = _ref4.transitionStyle,\n            transitionState = _ref4.transitionState;\n        return ___EmotionJSX(\"div\", _extends({\n          css: pageContainerCSS({\n            disableInteraction: isResizing || isTransitioning(transitionState),\n            leftOffset: leftOffset,\n            topOffset: topOffset\n          }),\n          ref: _this.getPageRef,\n          style: transitionStyle\n        }, dataset), children);\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(LayoutManager, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.publishRefs();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.publishRefs();\n    }\n  }, {\n    key: \"publishRefs\",\n    value: function publishRefs() {\n      var getRefs = this.props.getRefs;\n\n      if (typeof getRefs === 'function') {\n        getRefs(this.nodeRefs);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var topOffset = this.props.topOffset;\n      return ___EmotionJSX(LayoutContainer, {\n        topOffset: topOffset\n      }, this.renderNavigation(), this.renderPageContent());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      // kill the flyout when the user commits to expanding navigation\n      if (!props.navigationUIController.state.isCollapsed && state.flyoutIsOpen) {\n        return {\n          flyoutIsOpen: false\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return LayoutManager;\n}(Component);\n\n_defineProperty(LayoutManager, \"defaultProps\", {\n  collapseToggleTooltipContent: defaultTooltipContent,\n  datasets: {\n    content: {\n      'data-testid': 'Content'\n    },\n    contextualNavigation: {\n      'data-testid': 'ContextualNavigation'\n    },\n    globalNavigation: {\n      'data-testid': 'GlobalNavigation'\n    },\n    navigation: {\n      'data-testid': 'Navigation'\n    }\n  },\n  topOffset: 0,\n  shouldHideGlobalNavShadow: false,\n  // eslint-disable-next-line camelcase\n  experimental_alternateFlyoutBehaviour: false,\n  experimental_flyoutOnHover: false,\n  experimental_fullWidthFlyout: false,\n  experimental_hideNavVisuallyOnCollapse: false,\n  experimental_horizontalGlobalNav: false,\n  showContextualNavigation: true\n});\n\nexport { LayoutManager as default };"]},"metadata":{},"sourceType":"module"}