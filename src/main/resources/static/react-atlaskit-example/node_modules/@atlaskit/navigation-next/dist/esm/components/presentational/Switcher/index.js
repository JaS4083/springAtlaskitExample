import _classCallCheck from "@babel/runtime/helpers/classCallCheck";
import _createClass from "@babel/runtime/helpers/createClass";
import _possibleConstructorReturn from "@babel/runtime/helpers/possibleConstructorReturn";
import _getPrototypeOf from "@babel/runtime/helpers/getPrototypeOf";
import _assertThisInitialized from "@babel/runtime/helpers/assertThisInitialized";
import _inherits from "@babel/runtime/helpers/inherits";
import _defineProperty from "@babel/runtime/helpers/defineProperty";
import _extends from "@babel/runtime/helpers/extends";
import _css from "@emotion/css";
import _objectWithoutProperties from "@babel/runtime/helpers/objectWithoutProperties";
import _objectSpread from "@babel/runtime/helpers/objectSpread";
import { jsx as ___EmotionJSX } from "@emotion/core";
import React, { PureComponent, cloneElement } from 'react';
import NodeResolver from 'react-node-resolver';
import shallowEqualObjects from 'shallow-equal/objects';
import { components, PopupSelect, mergeStyles } from '@atlaskit/select';
import { gridSize as gridSizeFn } from '@atlaskit/theme/constants';
import { N30, B50, N40A, N200, B300 } from '@atlaskit/theme/colors';
import AddIcon from '@atlaskit/icon/glyph/add';
import Option from './Option';
import { UIControllerSubscriber } from '../../../ui-controller';
import { CONTENT_NAV_WIDTH } from '../../../common/constants';
var gridSize = gridSizeFn();
var defaultStyles = {
  option: function option(provided, _ref) {
    var isActive = _ref.isActive,
        isFocused = _ref.isFocused;
    return _objectSpread({}, provided, {
      alignItems: 'center',
      border: 'none',
      backgroundColor: isFocused ? N30 : 'transparent',
      boxSizing: 'border-box',
      color: 'inherit',
      cursor: 'default',
      display: 'flex',
      flexShrink: 0,
      fontSize: 'inherit',
      height: gridSize * 6,
      outline: 'none',
      paddingRight: gridSize,
      paddingLeft: gridSize,
      textAlign: 'left',
      textDecoration: 'none',
      width: '100%'
    }, isActive && {
      backgroundColor: B50
    });
  }
}; // ==============================
// Custom Functions
// ==============================

export var createStyles = function createStyles() {
  var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return mergeStyles(defaultStyles, styles);
};
export var filterOption = function filterOption(_ref2, input) {
  var data = _ref2.data;
  return data.text.toLowerCase().includes(input.toLowerCase());
};
export var isOptionSelected = function isOptionSelected(option, selected) {
  if (!selected || !selected.length) return false;
  return option.id === selected[0].id;
};
export var getOptionValue = function getOptionValue(option) {
  return option.id;
}; // ==============================
// Custom Components
// ==============================

export var Control = function Control(_ref3) {
  var _ref3$innerProps = _ref3.innerProps,
      innerRef = _ref3$innerProps.innerRef,
      innerProps = _objectWithoutProperties(_ref3$innerProps, ["innerRef"]),
      props = _objectWithoutProperties(_ref3, ["innerProps"]);

  return ___EmotionJSX("div", {
    ref: innerRef,
    css:
    /*#__PURE__*/
    _css({
      boxShadow: "0 2px 0 ".concat(N40A),
      padding: gridSize,
      position: 'relative'
    }, process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ByZXNlbnRhdGlvbmFsL1N3aXRjaGVyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdFSSIsImZpbGUiOiIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9wcmVzZW50YXRpb25hbC9Td2l0Y2hlci9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50LCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm9kZVJlc29sdmVyIGZyb20gJ3JlYWN0LW5vZGUtcmVzb2x2ZXInO1xuaW1wb3J0IHNoYWxsb3dFcXVhbE9iamVjdHMgZnJvbSAnc2hhbGxvdy1lcXVhbC9vYmplY3RzJztcbmltcG9ydCB7IGNvbXBvbmVudHMsIFBvcHVwU2VsZWN0LCBtZXJnZVN0eWxlcyB9IGZyb20gJ0BhdGxhc2tpdC9zZWxlY3QnO1xuaW1wb3J0IHsgZ3JpZFNpemUgYXMgZ3JpZFNpemVGbiB9IGZyb20gJ0BhdGxhc2tpdC90aGVtZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgTjMwLCBCNTAsIE40MEEsIE4yMDAsIEIzMDAgfSBmcm9tICdAYXRsYXNraXQvdGhlbWUvY29sb3JzJztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2FkZCc7XG5pbXBvcnQgT3B0aW9uIGZyb20gJy4vT3B0aW9uJztcbmltcG9ydCB7IFVJQ29udHJvbGxlclN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi8uLi91aS1jb250cm9sbGVyJztcbmltcG9ydCB7IENPTlRFTlRfTkFWX1dJRFRIIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IGdyaWRTaXplID0gZ3JpZFNpemVGbigpO1xuXG5jb25zdCBkZWZhdWx0U3R5bGVzID0ge1xuICBvcHRpb246IChwcm92aWRlZCwgeyBpc0FjdGl2ZSwgaXNGb2N1c2VkIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvdmlkZWQsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0ZvY3VzZWQgPyBOMzAgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCcsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgZm9udFNpemU6ICdpbmhlcml0JyxcbiAgICAgIGhlaWdodDogZ3JpZFNpemUgKiA2LFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBncmlkU2l6ZSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBncmlkU2l6ZSxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAuLi4oaXNBY3RpdmUgJiYgeyBiYWNrZ3JvdW5kQ29sb3I6IEI1MCB9KSxcbiAgICB9O1xuICB9LFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDdXN0b20gRnVuY3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0eWxlcyA9IChzdHlsZXMgPSB7fSkgPT4gbWVyZ2VTdHlsZXMoZGVmYXVsdFN0eWxlcywgc3R5bGVzKTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlck9wdGlvbiA9ICh7IGRhdGEgfSwgaW5wdXQpID0+XG4gIGRhdGEudGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0LnRvTG93ZXJDYXNlKCkpO1xuXG5leHBvcnQgY29uc3QgaXNPcHRpb25TZWxlY3RlZCA9IChvcHRpb24sIHNlbGVjdGVkKSA9PiB7XG4gIGlmICghc2VsZWN0ZWQgfHwgIXNlbGVjdGVkLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gb3B0aW9uLmlkID09PSBzZWxlY3RlZFswXS5pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25WYWx1ZSA9IG9wdGlvbiA9PiBvcHRpb24uaWQ7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ3VzdG9tIENvbXBvbmVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQ29udHJvbCA9ICh7XG4gIGlubmVyUHJvcHM6IHsgaW5uZXJSZWYsIC4uLmlubmVyUHJvcHMgfSxcbiAgLi4ucHJvcHNcbn0pID0+IChcbiAgPGRpdlxuICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgY3NzPXt7XG4gICAgICBib3hTaGFkb3c6IGAwIDJweCAwICR7TjQwQX1gLFxuICAgICAgcGFkZGluZzogZ3JpZFNpemUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9fVxuICA+XG4gICAgPGNvbXBvbmVudHMuQ29udHJvbCB7Li4ucHJvcHN9IGlubmVyUHJvcHM9e2lubmVyUHJvcHN9IC8+XG4gIDwvZGl2PlxuKTtcbmV4cG9ydCBjb25zdCBGb290ZXIgPSAoeyB0ZXh0LCBvbkNsaWNrIH0pID0+IChcbiAgPGJ1dHRvblxuICAgIGNzcz17e1xuICAgICAgYmFja2dyb3VuZDogMCxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGJveFNoYWRvdzogYDAgLTJweCAwICR7TjQwQX1gLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogTjIwMCxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogYCR7Z3JpZFNpemUgKiAxLjV9cHggJHtncmlkU2l6ZX1weGAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcblxuICAgICAgJzpob3ZlciwgOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogQjMwMCxcbiAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnLFxuICAgICAgfSxcbiAgICB9fVxuICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gID5cbiAgICA8QWRkSWNvbiBsYWJlbD1cIkFkZCBpY29uXCIgc2l6ZT1cInNtYWxsXCIgLz5cbiAgICA8c3BhbiBjc3M9e3sgbWFyZ2luTGVmdDogZ3JpZFNpemUgfX0+e3RleHR9PC9zcGFuPlxuICA8L2J1dHRvbj5cbik7XG5cbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0geyBDb250cm9sLCBPcHRpb24gfTtcbmNvbnN0IGlzRW1wdHkgPSBvYmogPT4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ2xhc3Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBtZXJnZWRDb21wb25lbnRzOiBkZWZhdWx0Q29tcG9uZW50cyxcbiAgfTtcblxuICBzZWxlY3RSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblxuICB0YXJnZXRSZWY7XG5cbiAgdGFyZ2V0V2lkdGggPSAwO1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2xvc2VNZW51T25DcmVhdGU6IHRydWUsXG4gICAgY29tcG9uZW50czoge30sXG4gICAgbmF2V2lkdGg6IENPTlRFTlRfTkFWX1dJRFRILFxuICAgIGlzTmF2UmVzaXppbmc6IGZhbHNlLFxuICB9O1xuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcblxuICAgIC8vIE1lcmdlIGNvbnN1bWVyIGFuZCBkZWZhdWx0IGNvbXBvbmVudHNcbiAgICBjb25zdCBtZXJnZWRDb21wb25lbnRzID0geyAuLi5kZWZhdWx0Q29tcG9uZW50cywgLi4ucHJvcHMuY29tcG9uZW50cyB9O1xuICAgIGlmICghc2hhbGxvd0VxdWFsT2JqZWN0cyhtZXJnZWRDb21wb25lbnRzLCBzdGF0ZS5tZXJnZWRDb21wb25lbnRzKSkge1xuICAgICAgbmV3U3RhdGUubWVyZ2VkQ29tcG9uZW50cyA9IG1lcmdlZENvbXBvbmVudHM7XG4gICAgfVxuXG4gICAgaWYgKCFpc0VtcHR5KG5ld1N0YXRlKSkgcmV0dXJuIG5ld1N0YXRlO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoeyBpc05hdlJlc2l6aW5nIH0pIHtcbiAgICBpZiAoXG4gICAgICBpc05hdlJlc2l6aW5nICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50ICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50LnN0YXRlLmlzT3BlblxuICAgICkge1xuICAgICAgdGhpcy5zZWxlY3RSZWYuY3VycmVudC5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlc29sdmVUYXJnZXRSZWYgPSBwb3B1cFJlZiA9PiByZWYgPT4ge1xuICAgIC8vIGF2b2lkIHRocmFzaGluZyBmbiBjYWxsc1xuICAgIGlmICghdGhpcy50YXJnZXRSZWYgJiYgcG9wdXBSZWYgJiYgcmVmKSB7XG4gICAgICB0aGlzLnRhcmdldFJlZiA9IHJlZjtcbiAgICAgIHBvcHVwUmVmKHJlZik7XG4gICAgfVxuICB9O1xuXG4gIGdldEZvb3RlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNsb3NlTWVudU9uQ3JlYXRlLCBjcmVhdGUsIGZvb3RlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChmb290ZXIpIHJldHVybiBmb290ZXI7XG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IHsgb25DbGljayB9ID0gY3JlYXRlO1xuICAgIGlmIChjbG9zZU1lbnVPbkNyZWF0ZSkge1xuICAgICAgb25DbGljayA9IGUgPT4ge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RSZWYuY3VycmVudCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0UmVmLmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGUub25DbGljayhlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIDxGb290ZXIgdGV4dD17Y3JlYXRlLnRleHR9IG9uQ2xpY2s9e29uQ2xpY2t9IC8+O1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNyZWF0ZSwgb3B0aW9ucywgdGFyZ2V0LCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IG1lcmdlZENvbXBvbmVudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgdGFyZ2V0V2lkdGggPSB0aGlzLnByb3BzLm5hdldpZHRoIC0gZ3JpZFNpemUgKiAyO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3B1cFNlbGVjdFxuICAgICAgICByZWY9e3RoaXMuc2VsZWN0UmVmfVxuICAgICAgICBmaWx0ZXJPcHRpb249e2ZpbHRlck9wdGlvbn1cbiAgICAgICAgaXNPcHRpb25TZWxlY3RlZD17aXNPcHRpb25TZWxlY3RlZH1cbiAgICAgICAgZm9vdGVyPXt0aGlzLmdldEZvb3RlcigpfVxuICAgICAgICBnZXRPcHRpb25WYWx1ZT17Z2V0T3B0aW9uVmFsdWV9XG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgIG1heE1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIG1pbk1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIHRhcmdldD17KHsgcmVmLCBpc09wZW4gfSkgPT4gKFxuICAgICAgICAgIDxOb2RlUmVzb2x2ZXIgaW5uZXJSZWY9e3RoaXMucmVzb2x2ZVRhcmdldFJlZihyZWYpfT5cbiAgICAgICAgICAgIHtjbG9uZUVsZW1lbnQodGFyZ2V0LCB7IGlzU2VsZWN0ZWQ6IGlzT3BlbiB9KX1cbiAgICAgICAgICA8L05vZGVSZXNvbHZlcj5cbiAgICAgICAgKX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBzdHlsZXM9e2NyZWF0ZVN0eWxlcyh0aGlzLnByb3BzLnN0eWxlcyl9XG4gICAgICAgIGNvbXBvbmVudHM9e21lcmdlZENvbXBvbmVudHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU3dpdGNoZXIgYXMgQmFzZVN3aXRjaGVyIH07XG5cbmV4cG9ydCBkZWZhdWx0IHByb3BzID0+IChcbiAgPFVJQ29udHJvbGxlclN1YnNjcmliZXI+XG4gICAgeyh7IHN0YXRlIH0pID0+IChcbiAgICAgIDxTd2l0Y2hlclxuICAgICAgICBuYXZXaWR0aD17c3RhdGUucHJvZHVjdE5hdldpZHRofVxuICAgICAgICBpc05hdlJlc2l6aW5nPXtzdGF0ZS5pc1Jlc2l6aW5nfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICl9XG4gIDwvVUlDb250cm9sbGVyU3Vic2NyaWJlcj5cbik7XG4iXX0= */")
  }, ___EmotionJSX(components.Control, _extends({}, props, {
    innerProps: innerProps
  })));
};
export var Footer = function Footer(_ref4) {
  var text = _ref4.text,
      onClick = _ref4.onClick;
  return ___EmotionJSX("button", {
    css:
    /*#__PURE__*/
    _css({
      background: 0,
      border: 0,
      boxShadow: "0 -2px 0 ".concat(N40A),
      boxSizing: 'border-box',
      color: N200,
      cursor: 'pointer',
      alignItems: 'center',
      display: 'flex',
      fontSize: 'inherit',
      padding: "".concat(gridSize * 1.5, "px ").concat(gridSize, "px"),
      position: 'relative',
      textAlign: 'left',
      width: '100%',
      ':hover, :focus': {
        color: B300,
        outline: 0,
        textDecoration: 'underline'
      }
    }, process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ByZXNlbnRhdGlvbmFsL1N3aXRjaGVyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJFSSIsImZpbGUiOiIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9wcmVzZW50YXRpb25hbC9Td2l0Y2hlci9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50LCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm9kZVJlc29sdmVyIGZyb20gJ3JlYWN0LW5vZGUtcmVzb2x2ZXInO1xuaW1wb3J0IHNoYWxsb3dFcXVhbE9iamVjdHMgZnJvbSAnc2hhbGxvdy1lcXVhbC9vYmplY3RzJztcbmltcG9ydCB7IGNvbXBvbmVudHMsIFBvcHVwU2VsZWN0LCBtZXJnZVN0eWxlcyB9IGZyb20gJ0BhdGxhc2tpdC9zZWxlY3QnO1xuaW1wb3J0IHsgZ3JpZFNpemUgYXMgZ3JpZFNpemVGbiB9IGZyb20gJ0BhdGxhc2tpdC90aGVtZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgTjMwLCBCNTAsIE40MEEsIE4yMDAsIEIzMDAgfSBmcm9tICdAYXRsYXNraXQvdGhlbWUvY29sb3JzJztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2FkZCc7XG5pbXBvcnQgT3B0aW9uIGZyb20gJy4vT3B0aW9uJztcbmltcG9ydCB7IFVJQ29udHJvbGxlclN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi8uLi91aS1jb250cm9sbGVyJztcbmltcG9ydCB7IENPTlRFTlRfTkFWX1dJRFRIIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IGdyaWRTaXplID0gZ3JpZFNpemVGbigpO1xuXG5jb25zdCBkZWZhdWx0U3R5bGVzID0ge1xuICBvcHRpb246IChwcm92aWRlZCwgeyBpc0FjdGl2ZSwgaXNGb2N1c2VkIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvdmlkZWQsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0ZvY3VzZWQgPyBOMzAgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCcsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgZm9udFNpemU6ICdpbmhlcml0JyxcbiAgICAgIGhlaWdodDogZ3JpZFNpemUgKiA2LFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBncmlkU2l6ZSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBncmlkU2l6ZSxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAuLi4oaXNBY3RpdmUgJiYgeyBiYWNrZ3JvdW5kQ29sb3I6IEI1MCB9KSxcbiAgICB9O1xuICB9LFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDdXN0b20gRnVuY3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0eWxlcyA9IChzdHlsZXMgPSB7fSkgPT4gbWVyZ2VTdHlsZXMoZGVmYXVsdFN0eWxlcywgc3R5bGVzKTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlck9wdGlvbiA9ICh7IGRhdGEgfSwgaW5wdXQpID0+XG4gIGRhdGEudGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0LnRvTG93ZXJDYXNlKCkpO1xuXG5leHBvcnQgY29uc3QgaXNPcHRpb25TZWxlY3RlZCA9IChvcHRpb24sIHNlbGVjdGVkKSA9PiB7XG4gIGlmICghc2VsZWN0ZWQgfHwgIXNlbGVjdGVkLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gb3B0aW9uLmlkID09PSBzZWxlY3RlZFswXS5pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25WYWx1ZSA9IG9wdGlvbiA9PiBvcHRpb24uaWQ7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ3VzdG9tIENvbXBvbmVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQ29udHJvbCA9ICh7XG4gIGlubmVyUHJvcHM6IHsgaW5uZXJSZWYsIC4uLmlubmVyUHJvcHMgfSxcbiAgLi4ucHJvcHNcbn0pID0+IChcbiAgPGRpdlxuICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgY3NzPXt7XG4gICAgICBib3hTaGFkb3c6IGAwIDJweCAwICR7TjQwQX1gLFxuICAgICAgcGFkZGluZzogZ3JpZFNpemUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9fVxuICA+XG4gICAgPGNvbXBvbmVudHMuQ29udHJvbCB7Li4ucHJvcHN9IGlubmVyUHJvcHM9e2lubmVyUHJvcHN9IC8+XG4gIDwvZGl2PlxuKTtcbmV4cG9ydCBjb25zdCBGb290ZXIgPSAoeyB0ZXh0LCBvbkNsaWNrIH0pID0+IChcbiAgPGJ1dHRvblxuICAgIGNzcz17e1xuICAgICAgYmFja2dyb3VuZDogMCxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGJveFNoYWRvdzogYDAgLTJweCAwICR7TjQwQX1gLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogTjIwMCxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogYCR7Z3JpZFNpemUgKiAxLjV9cHggJHtncmlkU2l6ZX1weGAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcblxuICAgICAgJzpob3ZlciwgOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogQjMwMCxcbiAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnLFxuICAgICAgfSxcbiAgICB9fVxuICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gID5cbiAgICA8QWRkSWNvbiBsYWJlbD1cIkFkZCBpY29uXCIgc2l6ZT1cInNtYWxsXCIgLz5cbiAgICA8c3BhbiBjc3M9e3sgbWFyZ2luTGVmdDogZ3JpZFNpemUgfX0+e3RleHR9PC9zcGFuPlxuICA8L2J1dHRvbj5cbik7XG5cbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0geyBDb250cm9sLCBPcHRpb24gfTtcbmNvbnN0IGlzRW1wdHkgPSBvYmogPT4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ2xhc3Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBtZXJnZWRDb21wb25lbnRzOiBkZWZhdWx0Q29tcG9uZW50cyxcbiAgfTtcblxuICBzZWxlY3RSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblxuICB0YXJnZXRSZWY7XG5cbiAgdGFyZ2V0V2lkdGggPSAwO1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2xvc2VNZW51T25DcmVhdGU6IHRydWUsXG4gICAgY29tcG9uZW50czoge30sXG4gICAgbmF2V2lkdGg6IENPTlRFTlRfTkFWX1dJRFRILFxuICAgIGlzTmF2UmVzaXppbmc6IGZhbHNlLFxuICB9O1xuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcblxuICAgIC8vIE1lcmdlIGNvbnN1bWVyIGFuZCBkZWZhdWx0IGNvbXBvbmVudHNcbiAgICBjb25zdCBtZXJnZWRDb21wb25lbnRzID0geyAuLi5kZWZhdWx0Q29tcG9uZW50cywgLi4ucHJvcHMuY29tcG9uZW50cyB9O1xuICAgIGlmICghc2hhbGxvd0VxdWFsT2JqZWN0cyhtZXJnZWRDb21wb25lbnRzLCBzdGF0ZS5tZXJnZWRDb21wb25lbnRzKSkge1xuICAgICAgbmV3U3RhdGUubWVyZ2VkQ29tcG9uZW50cyA9IG1lcmdlZENvbXBvbmVudHM7XG4gICAgfVxuXG4gICAgaWYgKCFpc0VtcHR5KG5ld1N0YXRlKSkgcmV0dXJuIG5ld1N0YXRlO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoeyBpc05hdlJlc2l6aW5nIH0pIHtcbiAgICBpZiAoXG4gICAgICBpc05hdlJlc2l6aW5nICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50ICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50LnN0YXRlLmlzT3BlblxuICAgICkge1xuICAgICAgdGhpcy5zZWxlY3RSZWYuY3VycmVudC5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlc29sdmVUYXJnZXRSZWYgPSBwb3B1cFJlZiA9PiByZWYgPT4ge1xuICAgIC8vIGF2b2lkIHRocmFzaGluZyBmbiBjYWxsc1xuICAgIGlmICghdGhpcy50YXJnZXRSZWYgJiYgcG9wdXBSZWYgJiYgcmVmKSB7XG4gICAgICB0aGlzLnRhcmdldFJlZiA9IHJlZjtcbiAgICAgIHBvcHVwUmVmKHJlZik7XG4gICAgfVxuICB9O1xuXG4gIGdldEZvb3RlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNsb3NlTWVudU9uQ3JlYXRlLCBjcmVhdGUsIGZvb3RlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChmb290ZXIpIHJldHVybiBmb290ZXI7XG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IHsgb25DbGljayB9ID0gY3JlYXRlO1xuICAgIGlmIChjbG9zZU1lbnVPbkNyZWF0ZSkge1xuICAgICAgb25DbGljayA9IGUgPT4ge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RSZWYuY3VycmVudCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0UmVmLmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGUub25DbGljayhlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIDxGb290ZXIgdGV4dD17Y3JlYXRlLnRleHR9IG9uQ2xpY2s9e29uQ2xpY2t9IC8+O1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNyZWF0ZSwgb3B0aW9ucywgdGFyZ2V0LCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IG1lcmdlZENvbXBvbmVudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgdGFyZ2V0V2lkdGggPSB0aGlzLnByb3BzLm5hdldpZHRoIC0gZ3JpZFNpemUgKiAyO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3B1cFNlbGVjdFxuICAgICAgICByZWY9e3RoaXMuc2VsZWN0UmVmfVxuICAgICAgICBmaWx0ZXJPcHRpb249e2ZpbHRlck9wdGlvbn1cbiAgICAgICAgaXNPcHRpb25TZWxlY3RlZD17aXNPcHRpb25TZWxlY3RlZH1cbiAgICAgICAgZm9vdGVyPXt0aGlzLmdldEZvb3RlcigpfVxuICAgICAgICBnZXRPcHRpb25WYWx1ZT17Z2V0T3B0aW9uVmFsdWV9XG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgIG1heE1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIG1pbk1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIHRhcmdldD17KHsgcmVmLCBpc09wZW4gfSkgPT4gKFxuICAgICAgICAgIDxOb2RlUmVzb2x2ZXIgaW5uZXJSZWY9e3RoaXMucmVzb2x2ZVRhcmdldFJlZihyZWYpfT5cbiAgICAgICAgICAgIHtjbG9uZUVsZW1lbnQodGFyZ2V0LCB7IGlzU2VsZWN0ZWQ6IGlzT3BlbiB9KX1cbiAgICAgICAgICA8L05vZGVSZXNvbHZlcj5cbiAgICAgICAgKX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBzdHlsZXM9e2NyZWF0ZVN0eWxlcyh0aGlzLnByb3BzLnN0eWxlcyl9XG4gICAgICAgIGNvbXBvbmVudHM9e21lcmdlZENvbXBvbmVudHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU3dpdGNoZXIgYXMgQmFzZVN3aXRjaGVyIH07XG5cbmV4cG9ydCBkZWZhdWx0IHByb3BzID0+IChcbiAgPFVJQ29udHJvbGxlclN1YnNjcmliZXI+XG4gICAgeyh7IHN0YXRlIH0pID0+IChcbiAgICAgIDxTd2l0Y2hlclxuICAgICAgICBuYXZXaWR0aD17c3RhdGUucHJvZHVjdE5hdldpZHRofVxuICAgICAgICBpc05hdlJlc2l6aW5nPXtzdGF0ZS5pc1Jlc2l6aW5nfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICl9XG4gIDwvVUlDb250cm9sbGVyU3Vic2NyaWJlcj5cbik7XG4iXX0= */"),
    onClick: onClick
  }, ___EmotionJSX(AddIcon, {
    label: "Add icon",
    size: "small"
  }), ___EmotionJSX("span", {
    css:
    /*#__PURE__*/
    _css({
      marginLeft: gridSize
    }, process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ByZXNlbnRhdGlvbmFsL1N3aXRjaGVyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1HVSIsImZpbGUiOiIuLi8uLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9wcmVzZW50YXRpb25hbC9Td2l0Y2hlci9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50LCBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTm9kZVJlc29sdmVyIGZyb20gJ3JlYWN0LW5vZGUtcmVzb2x2ZXInO1xuaW1wb3J0IHNoYWxsb3dFcXVhbE9iamVjdHMgZnJvbSAnc2hhbGxvdy1lcXVhbC9vYmplY3RzJztcbmltcG9ydCB7IGNvbXBvbmVudHMsIFBvcHVwU2VsZWN0LCBtZXJnZVN0eWxlcyB9IGZyb20gJ0BhdGxhc2tpdC9zZWxlY3QnO1xuaW1wb3J0IHsgZ3JpZFNpemUgYXMgZ3JpZFNpemVGbiB9IGZyb20gJ0BhdGxhc2tpdC90aGVtZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgTjMwLCBCNTAsIE40MEEsIE4yMDAsIEIzMDAgfSBmcm9tICdAYXRsYXNraXQvdGhlbWUvY29sb3JzJztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BhdGxhc2tpdC9pY29uL2dseXBoL2FkZCc7XG5pbXBvcnQgT3B0aW9uIGZyb20gJy4vT3B0aW9uJztcbmltcG9ydCB7IFVJQ29udHJvbGxlclN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi8uLi91aS1jb250cm9sbGVyJztcbmltcG9ydCB7IENPTlRFTlRfTkFWX1dJRFRIIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IGdyaWRTaXplID0gZ3JpZFNpemVGbigpO1xuXG5jb25zdCBkZWZhdWx0U3R5bGVzID0ge1xuICBvcHRpb246IChwcm92aWRlZCwgeyBpc0FjdGl2ZSwgaXNGb2N1c2VkIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucHJvdmlkZWQsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBpc0ZvY3VzZWQgPyBOMzAgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgY3Vyc29yOiAnZGVmYXVsdCcsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgZm9udFNpemU6ICdpbmhlcml0JyxcbiAgICAgIGhlaWdodDogZ3JpZFNpemUgKiA2LFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBncmlkU2l6ZSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBncmlkU2l6ZSxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAuLi4oaXNBY3RpdmUgJiYgeyBiYWNrZ3JvdW5kQ29sb3I6IEI1MCB9KSxcbiAgICB9O1xuICB9LFxufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDdXN0b20gRnVuY3Rpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVN0eWxlcyA9IChzdHlsZXMgPSB7fSkgPT4gbWVyZ2VTdHlsZXMoZGVmYXVsdFN0eWxlcywgc3R5bGVzKTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlck9wdGlvbiA9ICh7IGRhdGEgfSwgaW5wdXQpID0+XG4gIGRhdGEudGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0LnRvTG93ZXJDYXNlKCkpO1xuXG5leHBvcnQgY29uc3QgaXNPcHRpb25TZWxlY3RlZCA9IChvcHRpb24sIHNlbGVjdGVkKSA9PiB7XG4gIGlmICghc2VsZWN0ZWQgfHwgIXNlbGVjdGVkLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gb3B0aW9uLmlkID09PSBzZWxlY3RlZFswXS5pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25WYWx1ZSA9IG9wdGlvbiA9PiBvcHRpb24uaWQ7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ3VzdG9tIENvbXBvbmVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgQ29udHJvbCA9ICh7XG4gIGlubmVyUHJvcHM6IHsgaW5uZXJSZWYsIC4uLmlubmVyUHJvcHMgfSxcbiAgLi4ucHJvcHNcbn0pID0+IChcbiAgPGRpdlxuICAgIHJlZj17aW5uZXJSZWZ9XG4gICAgY3NzPXt7XG4gICAgICBib3hTaGFkb3c6IGAwIDJweCAwICR7TjQwQX1gLFxuICAgICAgcGFkZGluZzogZ3JpZFNpemUsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9fVxuICA+XG4gICAgPGNvbXBvbmVudHMuQ29udHJvbCB7Li4ucHJvcHN9IGlubmVyUHJvcHM9e2lubmVyUHJvcHN9IC8+XG4gIDwvZGl2PlxuKTtcbmV4cG9ydCBjb25zdCBGb290ZXIgPSAoeyB0ZXh0LCBvbkNsaWNrIH0pID0+IChcbiAgPGJ1dHRvblxuICAgIGNzcz17e1xuICAgICAgYmFja2dyb3VuZDogMCxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGJveFNoYWRvdzogYDAgLTJweCAwICR7TjQwQX1gLFxuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjb2xvcjogTjIwMCxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmb250U2l6ZTogJ2luaGVyaXQnLFxuICAgICAgcGFkZGluZzogYCR7Z3JpZFNpemUgKiAxLjV9cHggJHtncmlkU2l6ZX1weGAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcblxuICAgICAgJzpob3ZlciwgOmZvY3VzJzoge1xuICAgICAgICBjb2xvcjogQjMwMCxcbiAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnLFxuICAgICAgfSxcbiAgICB9fVxuICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gID5cbiAgICA8QWRkSWNvbiBsYWJlbD1cIkFkZCBpY29uXCIgc2l6ZT1cInNtYWxsXCIgLz5cbiAgICA8c3BhbiBjc3M9e3sgbWFyZ2luTGVmdDogZ3JpZFNpemUgfX0+e3RleHR9PC9zcGFuPlxuICA8L2J1dHRvbj5cbik7XG5cbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0geyBDb250cm9sLCBPcHRpb24gfTtcbmNvbnN0IGlzRW1wdHkgPSBvYmogPT4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ2xhc3Ncbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0ZSA9IHtcbiAgICBtZXJnZWRDb21wb25lbnRzOiBkZWZhdWx0Q29tcG9uZW50cyxcbiAgfTtcblxuICBzZWxlY3RSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcblxuICB0YXJnZXRSZWY7XG5cbiAgdGFyZ2V0V2lkdGggPSAwO1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgY2xvc2VNZW51T25DcmVhdGU6IHRydWUsXG4gICAgY29tcG9uZW50czoge30sXG4gICAgbmF2V2lkdGg6IENPTlRFTlRfTkFWX1dJRFRILFxuICAgIGlzTmF2UmVzaXppbmc6IGZhbHNlLFxuICB9O1xuXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcblxuICAgIC8vIE1lcmdlIGNvbnN1bWVyIGFuZCBkZWZhdWx0IGNvbXBvbmVudHNcbiAgICBjb25zdCBtZXJnZWRDb21wb25lbnRzID0geyAuLi5kZWZhdWx0Q29tcG9uZW50cywgLi4ucHJvcHMuY29tcG9uZW50cyB9O1xuICAgIGlmICghc2hhbGxvd0VxdWFsT2JqZWN0cyhtZXJnZWRDb21wb25lbnRzLCBzdGF0ZS5tZXJnZWRDb21wb25lbnRzKSkge1xuICAgICAgbmV3U3RhdGUubWVyZ2VkQ29tcG9uZW50cyA9IG1lcmdlZENvbXBvbmVudHM7XG4gICAgfVxuXG4gICAgaWYgKCFpc0VtcHR5KG5ld1N0YXRlKSkgcmV0dXJuIG5ld1N0YXRlO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoeyBpc05hdlJlc2l6aW5nIH0pIHtcbiAgICBpZiAoXG4gICAgICBpc05hdlJlc2l6aW5nICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50ICYmXG4gICAgICB0aGlzLnNlbGVjdFJlZi5jdXJyZW50LnN0YXRlLmlzT3BlblxuICAgICkge1xuICAgICAgdGhpcy5zZWxlY3RSZWYuY3VycmVudC5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlc29sdmVUYXJnZXRSZWYgPSBwb3B1cFJlZiA9PiByZWYgPT4ge1xuICAgIC8vIGF2b2lkIHRocmFzaGluZyBmbiBjYWxsc1xuICAgIGlmICghdGhpcy50YXJnZXRSZWYgJiYgcG9wdXBSZWYgJiYgcmVmKSB7XG4gICAgICB0aGlzLnRhcmdldFJlZiA9IHJlZjtcbiAgICAgIHBvcHVwUmVmKHJlZik7XG4gICAgfVxuICB9O1xuXG4gIGdldEZvb3RlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNsb3NlTWVudU9uQ3JlYXRlLCBjcmVhdGUsIGZvb3RlciB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChmb290ZXIpIHJldHVybiBmb290ZXI7XG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBudWxsO1xuXG4gICAgbGV0IHsgb25DbGljayB9ID0gY3JlYXRlO1xuICAgIGlmIChjbG9zZU1lbnVPbkNyZWF0ZSkge1xuICAgICAgb25DbGljayA9IGUgPT4ge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RSZWYuY3VycmVudCkge1xuICAgICAgICAgIHRoaXMuc2VsZWN0UmVmLmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjcmVhdGUub25DbGljayhlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIDxGb290ZXIgdGV4dD17Y3JlYXRlLnRleHR9IG9uQ2xpY2s9e29uQ2xpY2t9IC8+O1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNyZWF0ZSwgb3B0aW9ucywgdGFyZ2V0LCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IG1lcmdlZENvbXBvbmVudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgdGFyZ2V0V2lkdGggPSB0aGlzLnByb3BzLm5hdldpZHRoIC0gZ3JpZFNpemUgKiAyO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3B1cFNlbGVjdFxuICAgICAgICByZWY9e3RoaXMuc2VsZWN0UmVmfVxuICAgICAgICBmaWx0ZXJPcHRpb249e2ZpbHRlck9wdGlvbn1cbiAgICAgICAgaXNPcHRpb25TZWxlY3RlZD17aXNPcHRpb25TZWxlY3RlZH1cbiAgICAgICAgZm9vdGVyPXt0aGlzLmdldEZvb3RlcigpfVxuICAgICAgICBnZXRPcHRpb25WYWx1ZT17Z2V0T3B0aW9uVmFsdWV9XG4gICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgIG1heE1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIG1pbk1lbnVXaWR0aD17dGFyZ2V0V2lkdGh9XG4gICAgICAgIHRhcmdldD17KHsgcmVmLCBpc09wZW4gfSkgPT4gKFxuICAgICAgICAgIDxOb2RlUmVzb2x2ZXIgaW5uZXJSZWY9e3RoaXMucmVzb2x2ZVRhcmdldFJlZihyZWYpfT5cbiAgICAgICAgICAgIHtjbG9uZUVsZW1lbnQodGFyZ2V0LCB7IGlzU2VsZWN0ZWQ6IGlzT3BlbiB9KX1cbiAgICAgICAgICA8L05vZGVSZXNvbHZlcj5cbiAgICAgICAgKX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBzdHlsZXM9e2NyZWF0ZVN0eWxlcyh0aGlzLnByb3BzLnN0eWxlcyl9XG4gICAgICAgIGNvbXBvbmVudHM9e21lcmdlZENvbXBvbmVudHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU3dpdGNoZXIgYXMgQmFzZVN3aXRjaGVyIH07XG5cbmV4cG9ydCBkZWZhdWx0IHByb3BzID0+IChcbiAgPFVJQ29udHJvbGxlclN1YnNjcmliZXI+XG4gICAgeyh7IHN0YXRlIH0pID0+IChcbiAgICAgIDxTd2l0Y2hlclxuICAgICAgICBuYXZXaWR0aD17c3RhdGUucHJvZHVjdE5hdldpZHRofVxuICAgICAgICBpc05hdlJlc2l6aW5nPXtzdGF0ZS5pc1Jlc2l6aW5nfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICl9XG4gIDwvVUlDb250cm9sbGVyU3Vic2NyaWJlcj5cbik7XG4iXX0= */")
  }, text));
};
var defaultComponents = {
  Control: Control,
  Option: Option
};

var isEmpty = function isEmpty(obj) {
  return Object.keys(obj).length === 0;
}; // ==============================
// Class
// ==============================


var Switcher =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(Switcher, _PureComponent);

  function Switcher() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Switcher);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Switcher)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _defineProperty(_assertThisInitialized(_this), "state", {
      mergedComponents: defaultComponents
    });

    _defineProperty(_assertThisInitialized(_this), "selectRef", React.createRef());

    _defineProperty(_assertThisInitialized(_this), "targetRef", void 0);

    _defineProperty(_assertThisInitialized(_this), "targetWidth", 0);

    _defineProperty(_assertThisInitialized(_this), "resolveTargetRef", function (popupRef) {
      return function (ref) {
        // avoid thrashing fn calls
        if (!_this.targetRef && popupRef && ref) {
          _this.targetRef = ref;
          popupRef(ref);
        }
      };
    });

    _defineProperty(_assertThisInitialized(_this), "getFooter", function () {
      var _this$props = _this.props,
          closeMenuOnCreate = _this$props.closeMenuOnCreate,
          create = _this$props.create,
          footer = _this$props.footer;
      if (footer) return footer;
      if (!create) return null;
      var onClick = create.onClick;

      if (closeMenuOnCreate) {
        onClick = function onClick(e) {
          if (_this.selectRef.current) {
            _this.selectRef.current.close();
          }

          create.onClick(e);
        };
      }

      return ___EmotionJSX(Footer, {
        text: create.text,
        onClick: onClick
      });
    });

    return _this;
  }

  _createClass(Switcher, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(_ref5) {
      var isNavResizing = _ref5.isNavResizing;

      if (isNavResizing && this.selectRef.current && this.selectRef.current.state.isOpen) {
        this.selectRef.current.close();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          create = _this$props2.create,
          options = _this$props2.options,
          _target = _this$props2.target,
          props = _objectWithoutProperties(_this$props2, ["create", "options", "target"]);

      var mergedComponents = this.state.mergedComponents;
      var targetWidth = this.props.navWidth - gridSize * 2;
      return ___EmotionJSX(PopupSelect, _extends({
        ref: this.selectRef,
        filterOption: filterOption,
        isOptionSelected: isOptionSelected,
        footer: this.getFooter(),
        getOptionValue: getOptionValue,
        options: options,
        maxMenuWidth: targetWidth,
        minMenuWidth: targetWidth,
        target: function target(_ref6) {
          var ref = _ref6.ref,
              isOpen = _ref6.isOpen;
          return ___EmotionJSX(NodeResolver, {
            innerRef: _this2.resolveTargetRef(ref)
          }, cloneElement(_target, {
            isSelected: isOpen
          }));
        }
      }, props, {
        styles: createStyles(this.props.styles),
        components: mergedComponents
      }));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      var newState = {}; // Merge consumer and default components

      var mergedComponents = _objectSpread({}, defaultComponents, props.components);

      if (!shallowEqualObjects(mergedComponents, state.mergedComponents)) {
        newState.mergedComponents = mergedComponents;
      }

      if (!isEmpty(newState)) return newState;
      return null;
    }
  }]);

  return Switcher;
}(PureComponent);

_defineProperty(Switcher, "defaultProps", {
  closeMenuOnCreate: true,
  components: {},
  navWidth: CONTENT_NAV_WIDTH,
  isNavResizing: false
});

export { Switcher as BaseSwitcher };
export default (function (props) {
  return ___EmotionJSX(UIControllerSubscriber, null, function (_ref7) {
    var state = _ref7.state;
    return ___EmotionJSX(Switcher, _extends({
      navWidth: state.productNavWidth,
      isNavResizing: state.isResizing
    }, props));
  });
});